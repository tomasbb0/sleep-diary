<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#6b5b47">
    <title>Di√°rio de Sono</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Auth Screen -->
    <div id="auth-screen" class="screen active">
        <div class="auth-container">
            <div class="auth-logo">üåô</div>
            <h1 class="auth-title">Di√°rio de Sono</h1>
            
            <button id="google-login">
                <svg width="18" height="18" viewBox="0 0 18 18" style="vertical-align: middle; margin-right: 8px;">
                    <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                    <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z"/>
                    <path fill="#FBBC05" d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z"/>
                    <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"/>
                </svg>
                Continuar com Google
            </button>
            
            <button id="apple-login">
                <svg width="18" height="18" viewBox="0 0 18 18" style="vertical-align: middle; margin-right: 8px;">
                    <path fill="currentColor" d="M14.94 9.88c-.02-2.07 1.69-3.06 1.77-3.11-.96-1.41-2.46-1.6-3-1.63-1.27-.13-2.49.75-3.14.75-.65 0-1.65-.73-2.72-.71-1.4.02-2.69.81-3.41 2.07-1.46 2.53-.37 6.27 1.04 8.32.7 1.01 1.53 2.14 2.62 2.1 1.05-.04 1.45-.68 2.72-.68 1.27 0 1.63.68 2.73.66 1.13-.02 1.84-1.02 2.52-2.03.8-1.17 1.13-2.3 1.14-2.36-.02-.01-2.19-.84-2.22-3.33l-.05-.05zM12.85 3.42c.57-.7.96-1.66.85-2.62-.82.03-1.82.55-2.41 1.24-.53convergence.61-1 1.53-.87 2.46.92.07 1.86-.46 2.43-1.08z"/>
                </svg>
                Continuar com Apple
            </button>
            
            <div class="auth-divider">ou</div>
            
            <div class="auth-form">
                <input type="email" id="email" placeholder="Email" autocomplete="email">
                <input type="password" id="password" placeholder="Password" autocomplete="current-password">
                <div class="auth-buttons">
                    <button id="email-login">Entrar</button>
                    <button id="email-signup">Registar</button>
                </div>
            </div>
            
            <div id="auth-error"></div>
        </div>
    </div>

    <!-- App Screen -->
    <div id="app-screen" class="screen">
        <header class="app-header">
            <h1>üåô Di√°rio de Sono</h1>
            <button id="logout">Sair</button>
        </header>
        
        <nav class="tabs">
            <button class="tab active" data-tab="entry">üìù Registo</button>
            <button class="tab" data-tab="history">üìä Hist√≥rico</button>
        </nav>
        
        <!-- Entry Tab -->
        <div id="entry-tab" class="tab-content active">
            <div class="date-selector">
                <button id="prev-day">‚Üê</button>
                <div style="text-align: center;">
                    <div id="current-date">Hoje</div>
                    <div id="entry-status" class="incomplete">üìù Por completar</div>
                </div>
                <button id="next-day">‚Üí</button>
            </div>
            
            <div id="questions-container"></div>
            
            <div id="question-nav" class="question-nav hidden">
                <button id="prev-question">‚Üê Anterior</button>
                <span id="question-progress">1 / 10</span>
                <button id="next-question">Pr√≥xima ‚Üí</button>
            </div>
        </div>
        
        <!-- History Tab -->
        <div id="history-tab" class="tab-content">
            <div id="history-list"></div>
            <button id="export-data">üì• Exportar CSV</button>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    
    <script src="config.js"></script>
    <script src="questions.js"></script>
    <script src="app.js"></script>
</body>
</html>
