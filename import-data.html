<!DOCTYPE html>
<html>
<head>
    <title>Import Sleep Data</title>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Import Sleep Diary Data</h1>
    <button id="login">Login with Google</button>
    <button id="import" disabled>Import Data</button>
    <pre id="log"></pre>
    
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyB2S_kUQmNBcSDX19nC3LN2G7trPnBqNGw",
            authDomain: "sleep-diary-5b72f.firebaseapp.com",
            projectId: "sleep-diary-5b72f",
            storageBucket: "sleep-diary-5b72f.firebasestorage.app",
            messagingSenderId: "358310065752",
            appId: "1:358310065752:web:0f3a5d5870dfe91a34fc2d"
        };
        
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        
        // Data from paper diary (7-13 Jan 2026)
        const sleepData = {
            // 7 Janeiro 2026 (4¬™ feira)
            "2026-01-07": {
                acordou: "15:00",
                levantou: "15:30",
                como_sente_manha: "Mal",
                sestas: "N√£o",
                cafeina: "",
                atividade_fisica: "",
                deitou: "04:00",
                tempo_adormecer: "20",
                vezes_acordou: "0",
                sono_total: "4h 00min",
                comprimidos: "N√£o",
                alcool: "N√£o bebi",
                qualidade_noite: "Razoavelmente"
            },
            // 8 Janeiro 2026 (5¬™ feira)
            "2026-01-08": {
                acordou: "08:30",
                levantou: "08:40",
                como_sente_manha: "Mal",
                sestas: "N√£o",
                cafeina: "5 bicas",
                cafeina_ultima_hora: "11:00",
                atividade_fisica: "",
                deitou: "05:00",
                tempo_adormecer: "25",
                vezes_acordou: "0",
                despertares_oque: "Inalador p/ olhos + fui pedar",
                tempo_acordado_noite: "60",
                sono_total: "10h 00min",
                comprimidos: "N√£o",
                alcool: "N√£o bebi",
                qualidade_noite: "Razoavelmente"
            },
            // 9 Janeiro 2026 (6¬™ feira)
            "2026-01-09": {
                acordou: "15:00",
                levantou: "15:30",
                como_sente_manha: "Razoavelmente",
                sestas: "N√£o",
                cafeina: "1 bica",
                cafeina_ultima_hora: "14:00",
                atividade_fisica: "",
                deitou: "04:00",
                tempo_adormecer: "60",
                vezes_acordou: "1",
                despertares_oque: "Logo pq estava cheio para sono",
                tempo_acordado_noite: "60",
                sono_total: "12h 15min",
                comprimidos: "N√£o",
                alcool: "N√£o bebi",
                qualidade_noite: "Bem"
            },
            // 10 Janeiro 2026 (S√°bado)
            "2026-01-10": {
                acordou: "12:30",
                levantou: "13:15",
                como_sente_manha: "Razoavelmente",
                sestas: "Muita",
                sestas_duracao: "14h/15h (r√°pido) - 16:30",
                cafeina: "1 (amorim)",
                cafeina_ultima_hora: "15:00",
                atividade_fisica: "Caminhada",
                deitou: "05:00",
                tempo_adormecer: "60",
                vezes_acordou: "2",
                despertares_oque: "Estam cheio de sono",
                tempo_acordado_noite: "60",
                sono_total: "5h 00min",
                comprimidos: "N√£o",
                alcool: "3-4 bebidas",
                alcool_tipo: "Caipirinha + jarra + mari e bebi",
                qualidade_noite: "Bem"
            },
            // 11 Janeiro 2026 (Domingo)
            "2026-01-11": {
                acordou: "06:45",
                levantou: "14:00",
                como_sente_manha: "Razoavelmente",
                sestas: "N√£o",
                cafeina: "1 bica",
                cafeina_ultima_hora: "15:00",
                atividade_fisica: "Bicicleta 10m (amadora/odivelas)",
                deitou: "05:30",
                tempo_adormecer: "5",
                vezes_acordou: "2",
                despertares_oque: "Logo p/ me levar",
                tempo_acordado_noite: "80",
                sono_total: "10h 45min",
                comprimidos: "N√£o",
                alcool: "3-4 bebidas",
                alcool_tipo: "Frita + jarra Lx",
                qualidade_noite: "Bem"
            },
            // 12 Janeiro 2026 (2¬™ feira)
            "2026-01-12": {
                acordou: "15:00",
                levantou: "15:30",
                como_sente_manha: "Mal",
                sestas: "N√£o",
                cafeina: "1 bica",
                cafeina_ultima_hora: "15:00",
                atividade_fisica: "Univ s/carro + 10 passos - caminhar",
                deitou: "01:00",
                tempo_adormecer: "30",
                vezes_acordou: "3",
                despertares_oque: "24:30 depois - adormecei em 3min",
                tempo_acordado_noite: "30",
                sono_total: "5h 30min",
                comprimidos: "N√£o",
                alcool: "N√£o bebi",
                qualidade_noite: "Muito bem"
            },
            // 13 Janeiro 2026 (3¬™ feira)
            "2026-01-13": {
                acordou: "14:30",
                levantou: "15:00",
                como_sente_manha: "Razoavelmente",
                sestas: "N√£o",
                cafeina: "",
                atividade_fisica: "",
                deitou: "03:30",
                tempo_adormecer: "30",
                vezes_acordou: "3",
                tempo_acordado_noite: "150",
                sono_total: "11h 00min",
                comprimidos: "N√£o",
                alcool: "N√£o bebi",
                qualidade_noite: "Muito bem"
            }
        };
        
        document.getElementById('login').onclick = async () => {
            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                await auth.signInWithPopup(provider);
                document.getElementById('log').textContent = 'Logged in as: ' + auth.currentUser.email;
                document.getElementById('import').disabled = false;
            } catch (e) {
                document.getElementById('log').textContent = 'Error: ' + e.message;
            }
        };
        
        document.getElementById('import').onclick = async () => {
            const log = document.getElementById('log');
            log.textContent = 'Importing...\n';
            
            try {
                for (const [date, answers] of Object.entries(sleepData)) {
                    await db.collection('users').doc(auth.currentUser.uid)
                        .collection('entries').doc(date).set({
                            date: date,
                            answers: answers,
                            updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                        });
                    log.textContent += `‚úÖ ${date} imported\n`;
                }
                log.textContent += '\nüéâ All data imported successfully!';
            } catch (e) {
                log.textContent += '\n‚ùå Error: ' + e.message;
            }
        };
    </script>
</body>
</html>
